{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _jsxFileName = \"/home/sohail/playground/React/DemoApp/app/screens/ResultScreen.js\",\n    _this2 = this;\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (it) return (it = it.call(o)).next.bind(it); if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport SectionList from \"react-native-web/dist/exports/SectionList\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport 'react-native-get-random-values';\nimport { v4 as uuid4 } from 'uuid';\nimport { symbol as _Symbol } from 'core-js/es';\nimport { useState } from 'react/cjs/react.development';\nimport { useEffect } from 'react';\n\nrequire('core-js/es/symbol/iterator');\n\nrequire('core-js/es/map');\n\nrequire('core-js/es/set');\n\nrequire('core-js/es/array/find');\n\nif (Platform.OS === 'android') {\n  if (typeof _Symbol === 'undefined') {\n    if (Array.prototype['@@iterator'] === undefined) {\n      Array.prototype['@@iterator'] = function () {\n        var _this = this;\n\n        var i = 0;\n        return {\n          next: function next() {\n            return {\n              done: i >= _this.length,\n              value: _this[i++]\n            };\n          }\n        };\n      };\n    }\n  }\n}\n\nvar formatData = function formatData(jsondata) {\n  var monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n  var dayNames = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Friday\", \"Saturday\"];\n  var vacSlots = {};\n  var id = 0;\n\n  for (var _iterator = _createForOfIteratorHelperLoose(jsondata.centers), _step; !(_step = _iterator()).done;) {\n    var center = _step.value;\n\n    for (var _iterator3 = _createForOfIteratorHelperLoose(center.sessions), _step3; !(_step3 = _iterator3()).done;) {\n      var slot = _step3.value;\n\n      try {\n        var date = slot.date;\n      } catch (err) {\n        console.log(\"The errrorrrrrrr\", err, slot.date);\n      }\n\n      var date = date.substring(6) + date.substring(2, 6) + date.substring(0, 2);\n      var date = new Date(date);\n      var entry = {\n        \"id\": uuid4(),\n        \"name\": center.name,\n        \"address\": center.address,\n        \"block_name\": center.block_name,\n        \"pincode\": String(center.pincode),\n        \"timing\": center.from + \" - \" + center.to,\n        \"fee\": center.fee_type,\n        \"vaccine\": slot.vaccine,\n        \"slots\": slot.slots,\n        \"min_age\": String(slot.min_age_limit)\n      };\n\n      if (date in vacSlots) {\n        vacSlots[date].push(entry);\n      } else {\n        vacSlots[date] = [entry];\n      }\n    }\n  }\n\n  var data = [];\n  var dates = Object.keys(vacSlots);\n  dates = dates.sort(function (a, b) {\n    return new Date(a) - new Date(b);\n  });\n\n  for (var _iterator2 = _createForOfIteratorHelperLoose(dates), _step2; !(_step2 = _iterator2()).done;) {\n    var slotDate = _step2.value;\n    slotDate = new Date(slotDate);\n    var m = monthNames[slotDate.getMonth()];\n    var day = dayNames[slotDate.getDay()];\n    var d = slotDate.getDate();\n    var y = slotDate.getFullYear();\n    var dateHeader = m + \" \" + d + \",\" + y + \" \" + day;\n    var newEntry = {\n      \"date\": dateHeader,\n      \"data\": vacSlots[slotDate]\n    };\n    data.push(newEntry);\n  }\n\n  return data;\n};\n\nfunction Entry(_ref) {\n  var props = _ref.props;\n  return React.createElement(View, {\n    style: styles.entry,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.row,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.dataView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.entryText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }, \"Name: \", props.name)), React.createElement(View, {\n    style: styles.dataView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.entryText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }, \"Address: \", props.address))), React.createElement(View, {\n    style: styles.row,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.dataView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.entryText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  }, \"Block: \", props.block_name)), React.createElement(View, {\n    style: styles.dataView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.entryText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  }, \"Pincode: \", props.pincode))), React.createElement(View, {\n    style: styles.row,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.dataView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.entryText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, \"Timing: \", props.timing)), React.createElement(View, {\n    style: styles.dataView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.entryText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }, \"Fee: \", props.fee))), React.createElement(View, {\n    style: styles.row,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.dataView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.entryText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 21\n    }\n  }, \"Vaccine: \", props.vaccine)), React.createElement(View, {\n    style: styles.dataView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.entryText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 21\n    }\n  }, \"Min Age: \", props.min_age))));\n}\n\nvar renderEntry = function renderEntry(_ref2) {\n  var item = _ref2.item;\n  return React.createElement(Entry, {\n    props: item,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  });\n};\n\nfunction ResultScreen(_ref3) {\n  var _this3 = this;\n\n  var navigation = _ref3.navigation;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setloading = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      data = _useState4[0],\n      setData = _useState4[1];\n\n  var getData = function getData() {\n    var url1, url2, response1;\n    return _regeneratorRuntime.async(function getData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            url1 = \"https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=737&date=17-05-2021\";\n            url2 = \"https://ron-swanson-quotes.herokuapp.com/v2/quotesrrr\";\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(fetch(url1).then(function (response) {\n              return response.json();\n            }).then(function (json) {\n              setData(formatData(json));\n              setloading(false);\n            }).catch(function (error) {\n              return console.log(error);\n            }));\n\n          case 5:\n            response1 = _context.sent;\n            return _context.abrupt(\"return\", response1);\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(_context.t0);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 9]], Promise);\n  };\n\n  useEffect(function () {\n    var url1 = \"https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=737&date=17-05-2021\";\n    var url2 = \"https://ron-swanson-quotes.herokuapp.com/v2/quotesrrr\";\n\n    var data2 = require(\"./sample_response.json\");\n\n    setData(formatData(data2));\n    setloading(false);\n  }, []);\n  return React.createElement(View, {\n    style: {\n      marginTop: StatusBar.currentHeight\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 9\n    }\n  }, isLoading ? React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 27\n    }\n  }, \"Hii\") : React.createElement(SectionList, {\n    sections: data,\n    keyExtractor: function keyExtractor(item, index) {\n      return item.id;\n    },\n    renderItem: function renderItem(_ref4) {\n      var item = _ref4.item;\n      return React.createElement(Entry, {\n        props: item,\n        __self: _this3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 47\n        }\n      });\n    },\n    stickySectionHeadersEnabled: true,\n    renderSectionHeader: function renderSectionHeader(_ref5) {\n      var date = _ref5.section.date;\n      return React.createElement(View, {\n        style: styles.headerContainer,\n        __self: _this3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 70\n        }\n      }, React.createElement(Text, {\n        style: styles.headerText,\n        __self: _this3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 107\n        }\n      }, date));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 18\n    }\n  }));\n}\n\nvar styles = StyleSheet.create({\n  column: {\n    flex: 1,\n    flexDirection: \"column\"\n  },\n  row: {\n    flex: 1,\n    flexDirection: \"row\",\n    borderColor: \"green\"\n  },\n  dataView: {\n    flex: 1,\n    padding: 5,\n    borderColor: \"yellow\"\n  },\n  entryText: {\n    borderColor: \"purple\"\n  },\n  entry: {\n    minHeight: 150,\n    borderWidth: 2,\n    borderColor: \"green\",\n    flexDirection: \"column\",\n    padding: 10,\n    marginHorizontal: 10,\n    marginVertical: 5,\n    borderRadius: 5\n  },\n  headerText: {\n    textAlign: \"center\",\n    color: \"white\",\n    textShadowRadius: 10,\n    paddingVertical: 5,\n    paddingHorizontal: 10,\n    borderRadius: 20,\n    backgroundColor: \"darkgray\"\n  },\n  headerContainer: {\n    flexDirection: 'row',\n    justifyContent: \"center\",\n    padding: 5\n  }\n});\nexport default ResultScreen;","map":{"version":3,"sources":["/home/sohail/playground/React/DemoApp/app/screens/ResultScreen.js"],"names":["React","v4","uuid4","symbol","Symbol","useState","useEffect","require","Platform","OS","Array","prototype","undefined","i","next","done","length","value","formatData","jsondata","monthNames","dayNames","vacSlots","id","centers","center","sessions","slot","date","err","console","log","substring","Date","entry","name","address","block_name","String","pincode","from","to","fee_type","vaccine","slots","min_age_limit","push","data","dates","Object","keys","sort","a","b","slotDate","m","getMonth","day","getDay","d","getDate","y","getFullYear","dateHeader","newEntry","Entry","props","styles","row","dataView","entryText","timing","fee","min_age","renderEntry","item","ResultScreen","navigation","isLoading","setloading","setData","getData","url1","url2","fetch","then","response","json","catch","error","response1","data2","marginTop","StatusBar","currentHeight","index","section","headerContainer","headerText","StyleSheet","create","column","flex","flexDirection","borderColor","padding","minHeight","borderWidth","marginHorizontal","marginVertical","borderRadius","textAlign","color","textShadowRadius","paddingVertical","paddingHorizontal","backgroundColor","justifyContent"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { View, Text, StatusBar, StyleSheet, FlatList, SectionList, Platform } from 'react-native';\r\nimport 'react-native-get-random-values';\r\nimport { v4 as uuid4 } from 'uuid';\r\n// const { uuid } = require('uuidv4');\r\n// const url = \"https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=737&date=16-05-2021\";\r\nimport { symbol as Symbol } from 'core-js/es';\r\nimport { useState } from 'react/cjs/react.development';\r\nimport { useEffect } from 'react';\r\n// global.Symbol = require('core-js/es/symbol');\r\nrequire('core-js/es/symbol/iterator');\r\n\r\n// collection fn polyfills\r\nrequire('core-js/es/map');\r\nrequire('core-js/es/set');\r\nrequire('core-js/es/array/find');\r\n\r\nif (Platform.OS === 'android') {\r\n    if (typeof Symbol === 'undefined') {\r\n        if (Array.prototype['@@iterator'] === undefined) {\r\n            Array.prototype['@@iterator'] = function () {\r\n                let i = 0;\r\n                return {\r\n                    next: () => ({\r\n                        done: i >= this.length,\r\n                        value: this[i++],\r\n                    }),\r\n                };\r\n            };\r\n        }\r\n    }\r\n}\r\n\r\nconst formatData = (jsondata) => {\r\n    var monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n    var dayNames = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Friday\", \"Saturday\"];\r\n    // December 2, 2021 Thursday \r\n    var vacSlots = {}\r\n    // console.log(jsondata)\r\n    // console.log(\"------\", jsondata);\r\n    var id = 0\r\n    for (var center of jsondata.centers) {\r\n        // console.log(center.name)\r\n\r\n        for (var slot of center.sessions) {\r\n            // console.log(slot);\r\n            try {\r\n                var date = slot.date;\r\n            }\r\n            catch (err) {\r\n                console.log(\"The errrorrrrrrr\", err, slot.date);\r\n            }\r\n            var date = date.substring(6,) + date.substring(2, 6) + date.substring(0, 2)\r\n            // console.log(date, typeof (date));\r\n            var date = new Date(date);\r\n            // console.log(date, typeof (date));\r\n            // id += 1;\r\n            var entry = {\r\n                \"id\": uuid4(),\r\n                \"name\": center.name,\r\n                \"address\": center.address,\r\n                \"block_name\": center.block_name,\r\n                \"pincode\": String(center.pincode),\r\n                \"timing\": center.from + \" - \" + center.to,\r\n                \"fee\": center.fee_type,\r\n                \"vaccine\": slot.vaccine,\r\n                \"slots\": slot.slots,\r\n                \"min_age\": String(slot.min_age_limit),\r\n            };\r\n            if (date in vacSlots) {\r\n                vacSlots[date].push(entry);\r\n            }\r\n            else {\r\n                vacSlots[date] = [entry];\r\n            }\r\n        }\r\n    }\r\n    // console.log(vacSlots);\r\n    var data = [];\r\n    var dates = Object.keys(vacSlots);\r\n    dates = dates.sort((a, b) => (new Date(a)) - (new Date(b)));\r\n    // console.log(dates, typeof (dates[0]));\r\n    for (var slotDate of dates) {\r\n        // var slotDate = new Date(\"05-05-2021\");\r\n        slotDate = new Date(slotDate);\r\n        var m = monthNames[slotDate.getMonth()];\r\n        var day = dayNames[slotDate.getDay()];\r\n        var d = slotDate.getDate();\r\n        var y = slotDate.getFullYear();\r\n        var dateHeader = `${m} ${d},${y} ${day}`;\r\n        var newEntry = { \"date\": dateHeader, \"data\": vacSlots[slotDate] };\r\n        data.push(newEntry);\r\n    }\r\n    return data;\r\n}\r\n\r\nfunction Entry({ props }) {\r\n    // console.log(\"props\", props.address);\r\n    return (\r\n        <View style={styles.entry}>\r\n            <View style={styles.row}>\r\n                <View style={styles.dataView}>\r\n                    <Text style={styles.entryText} >Name: {props.name}</Text>\r\n                </View>\r\n                <View style={styles.dataView}>\r\n                    <Text style={styles.entryText}>Address: {props.address}</Text>\r\n                </View>\r\n            </View>\r\n\r\n            <View style={styles.row}>\r\n                <View style={styles.dataView}>\r\n                    <Text style={styles.entryText}>Block: {props.block_name}</Text>\r\n                </View>\r\n                <View style={styles.dataView}>\r\n                    <Text style={styles.entryText}>Pincode: {props.pincode}</Text>\r\n                </View>\r\n            </View>\r\n\r\n            <View style={styles.row}>\r\n                <View style={styles.dataView}>\r\n                    <Text style={styles.entryText}>Timing: {props.timing}</Text>\r\n                </View>\r\n                <View style={styles.dataView}>\r\n                    <Text style={styles.entryText}>Fee: {props.fee}</Text>\r\n                </View>\r\n            </View>\r\n\r\n            <View style={styles.row}>\r\n                <View style={styles.dataView}>\r\n                    <Text style={styles.entryText}>Vaccine: {props.vaccine}</Text>\r\n                </View>\r\n                <View style={styles.dataView}>\r\n                    <Text style={styles.entryText}>Min Age: {props.min_age}</Text>\r\n                </View>\r\n            </View>\r\n\r\n        </View>\r\n    );\r\n}\r\n\r\nconst renderEntry = ({ item }) => {\r\n    return (\r\n        <Entry props={item} />\r\n    );\r\n}\r\n\r\n\r\n// function ResultScreen({ navigation, route }) {\r\nfunction ResultScreen({ navigation }) {\r\n\r\n    var [isLoading, setloading] = useState(true);\r\n    var [data, setData] = useState([]);\r\n\r\n    const getData = async () => {\r\n        try {\r\n            var url1 = \"https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=737&date=17-05-2021\";\r\n            var url2 = \"https://ron-swanson-quotes.herokuapp.com/v2/quotesrrr\";\r\n            let response1 = await fetch(url1).then((response) => { return response.json(); }).then((json) => { setData(formatData(json)); setloading(false); }).catch((error) => console.log(error));\r\n            // let response1 = await fetch(url1).then((response) => response.text()).then((response) => console.log(response)).then((response) => { return require('./sample_response.json'); }).then((response) => { setData(formatData(response)); setloading(false); }).catch((error) => console.log(error));\r\n            // let response1 = await fetch(url1).then((response) => { return response.json(); }).then((response) => { return setData(formatData(response)); }).catch((error) => console.log(error));\r\n            // let json = response;\r\n            // console.log(response1, Platform.OS);\r\n            return response1;\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    };\r\n\r\n    // var data = require('./sample_response.json');\r\n    // var url = \"https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=737&date=17-05-2021\";\r\n    // var data = await fetch(url).then((response) => response.json());\r\n    // getData(setloading, setData);\r\n    // console.log(\"state is \", isLoading, data);\r\n    // var DATA = formatData(data);\r\n    useEffect(() => {\r\n        // let json = fetch('https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=737&date=17-05-2021')\r\n        //     .then((response) => { return response.json(); })\r\n        //     .catch((error) => console.log(error));\r\n        // setData(formatData(json));\r\n        // setloading(false);\r\n        // getData();\r\n        var url1 = \"https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=737&date=17-05-2021\";\r\n        var url2 = \"https://ron-swanson-quotes.herokuapp.com/v2/quotesrrr\";\r\n        // let response1 = fetch(url1,{\r\n        //     method: 'GET',\r\n        //     headers: {\r\n        //         'Content-Type': 'application/json',\r\n        //         'user-agent': 'Chrome/90.0.4430.93 Safari/537.36',\r\n        //     }\r\n        // }).then((response) => { return response.json(); }).then((json) => { setData(formatData(json)); setloading(false); }).catch((error) => console.log(error));\r\n        var data2 = require('./sample_response.json');\r\n        setData(formatData(data2));\r\n        setloading(false);\r\n    }, []);\r\n    return (\r\n        <View style={{\r\n            marginTop: StatusBar.currentHeight,\r\n        }}>\r\n            {/* <Text>Hello {route.params.State_name} and {route.params.District_id}</Text> */}\r\n            {/* <Text>Hello</Text> */}\r\n            {/* <FlatList\r\n                data={testData}\r\n                renderItem={renderEntry}\r\n                keyExtractor={item => item.id}\r\n            /> */}\r\n            {isLoading ? (<Text>Hii</Text>) :\r\n                (<SectionList\r\n                    sections={data}\r\n                    keyExtractor={(item, index) => item.id}\r\n                    renderItem={({ item }) => <Entry props={item} />}\r\n                    stickySectionHeadersEnabled={true}\r\n                    renderSectionHeader={({ section: { date } }) => (<View style={styles.headerContainer}><Text style={styles.headerText}>{date}</Text></View>)}\r\n                    \r\n                />)\r\n            }\r\n        </View>\r\n\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    column: {\r\n        flex: 1,\r\n        flexDirection: \"column\"\r\n    },\r\n    row: {\r\n        flex: 1,\r\n        flexDirection: \"row\",\r\n        borderColor: \"green\",\r\n        // borderWidth: 1,\r\n        // minHeight: \"auto\",\r\n    },\r\n    dataView: {\r\n        flex: 1,\r\n        padding: 5,\r\n        borderColor: \"yellow\",\r\n        // borderWidth: 1\r\n    },\r\n    entryText: {\r\n        // height: 20\r\n        borderColor: \"purple\",\r\n        // borderWidth: 1,\r\n    },\r\n    entry: {\r\n        // width: \"100%\",\r\n        minHeight: 150,\r\n        borderWidth: 2,\r\n        borderColor: \"green\",\r\n        flexDirection: \"column\",\r\n        padding: 10,\r\n        // margin:10,\r\n        marginHorizontal:10,\r\n        marginVertical:5,\r\n        borderRadius: 5\r\n        // justifyContent: \"center\",\r\n        // alignItems: \"center\"\r\n    },\r\n    headerText: {\r\n        textAlign:\"center\",\r\n        color: \"white\",\r\n        // borderWidth:1,\r\n        textShadowRadius:10,\r\n        paddingVertical:5,\r\n        paddingHorizontal:10,\r\n        borderRadius: 20,\r\n        backgroundColor:\"darkgray\"\r\n    },\r\n    headerContainer :{\r\n        flexDirection:'row',\r\n        justifyContent:\"center\",\r\n        padding:5,\r\n        \r\n    }\r\n});\r\nexport default ResultScreen;"]},"metadata":{},"sourceType":"module"}